# 네트워크 면접 질문

<details>
<summary>
📌 OSI 7 계층과 TCP/IP 4 계층 비교 설명
</summary>

---

## TCP 4 계층

`응용 계층`, `전송 계층`, `인터넷 계층`, `네트워크 인터페이스 계층` 으로 이루어져 있다.

### 

---

</details>

<details>
<summary>
📌 TCP 와 UDP 비교
</summary>

---

## TCP 

좀 더 신뢰성있는 통신을 위해 3-way handshaking 을 통해 서로간의 신뢰성을 확보하고 데이터를 전송하는 방식

## UDP 

세션 수립 과정 없이 바로 전달하는 방식으로 데이터 손실율 보다 실시간 통신이 중요한 스트리밍 등에 사용되는 방식

---

</details>

<details>
<summary>
📌 3-way handshake 란 무엇인가
</summary>

---

TCP 에서 연결 세션을 만들기 위해 수행하는 절차로 3번의 통신을 주고받아 서로간의 연결 상태를 확인하고 통신하는 방식

---

</details>

<details>
<summary>
📌 HTTP 란
</summary>

---

> 클라이언트 서버 모델로 request 와 response 로 웹 상에서 정보를 주고 받을 수 있는 통신 규약(프로토콜) 이다. 

가장 큰 특징은 `비연결성`,`비상태성`이다.

클라이언트 서버 구조로 서버로 부터 요청에 대한 응답을 받으면 더 이상 연결을 유지하지 않고 끊어버리는 `비연결성` 때문에 더 많은 요청을 처리할 수 있지만,
이전 상태를 알지 못하는 `비상태성` 이라는 특징으로 인해 `cookie`, `session`, `jwt` 등이 도입되었다.

---

</details>

<details>
<summary>
📌 GET 과 POST 의 차이
</summary>

---

`GET` 은 리소스를 요청하는 HTTP 메서드이고 `POST` 는 리소스를 생성 또는 처리할 때 사용하는 메서드이다.

> PUT 과 PATCH 의 차이는 리소스의 대체와 리소스의 부분 수정에 있다.

## 자주 사용하는 HTTP 메서드에 대해 간단하게 설명

| 상태 코드 | 메시지                   | 설명                     |
|------|-----------------------|------------------------|
| 200  | OK                    | 요청이 성공                 |
| 201  | CREATED               | 요청으로 인한 리소스 생성 성공      |
| 204  | NO-CONTENT            | 요청으로 인해 삭제되어 보여줄 정보 없음 |
| 3XX  | REDIRECT              | 리다이랙션 관련               |
| 401  | UNAUTHORIZED          | 인증 오류                  |
| 403  | FORBIDDEN             | 인가 오류                  |
| 404  | NOT FOUND             | 요청 리소스 찾을 수 없음         |
| 500  | INTERNAL SERVER ERROR | 서버 내에서 예상치 못한 예외       |
| 502  | BAD GATEWAY           | 네트워크 오류나 유효하지 못한 어떤 예외 |
---

</details>

<details>
<summary>
📌 쿠키와 세션, 그리고 JWT 에 대해 설명
</summary>

---

## 쿠키

> 브라우저 로컬에 사용자 데이터를 저장하는 방식

서버 단에서 response 헤더에 `set-cookie` 속성을 통해 만들게 되고 유효기간 내 브라우저 로컬에 존재하며 request header 에 담겨 서버단에 전달된다.

## 세션

> 브라우저 로컬에 Session ID 쿠키 두고 서버에 사용자 데이터를 저장하는 방식

쿠키의 경우 클라이언트 단에 존재하기에 조작의 위험성이 있지만, 서버단에 `세션 ID` 를 통해 저장하고 관리하며 좀 더 보안이 좋지만 유지 관리 비용이 들어간다.

### 세션 인증 방식의 단점

일반적으로 성능을 위해 `scale-out` 을 사용할텐데, 한 대가 아닌 여러대의 서버에서 요청을 처리하게 된다면 세션 스토리지 또한 분리가 되기 때문에
별도의 처리가 없다면 A 서버에서 인증을 받았음에도 B 서버에 요청을 할 때에는 누구인지 식별하지 못하는 문제가 발생한다. 이를 해결하기 위해서는
항상 같은 서버를 이용하게 하는 `Sticky Session`, 세션 스토리지를 동기화하는 `Session Clustering`, 별도의 공유 세션 스토리지를 갖는 `세션 스토리지 분리`
이렇게 크게 3가지 방식이 존재하는데 첫번째는 Scale-out 의 본질을 깨뜨리며 이용 서비 장애 발생시 가용성 문제가 있고, 두번째는
동기화 하는 과정에서 네트워크와 메모리를 비효율적으로 사용하게 되는 문제가 있으며, 세번째는 공유 세션 스토리지에 문제가 발생하면 치명적이다는 문제가 있다.

## JWT 


> 인증 키를 서버단에서 갖고, 클라이언트 단에 데이터를 저장하는 방식 (확장성)

JWT 에 대해서 좀 더 알아보자면..

`header`,`payload`,`signature` 로 이루어져 있는 JSON OBJECT 를 사용하는 암호화 토큰이다.
암호화는 `header`와`payload`를 인코딩한 뒤에 특정한 알고리즘을 통해 암호화하여 `signature` 를 생성하는데, 

`비밀키`와 `공개키` 개념에 대해서도 알아봐야하는데, 

---

</details>

<details>
<summary>
📌 세션을 이용한 로그인 방식(절차)
</summary>

---

1. 클라이언트가 로그인 시 인증
2. 서버 측 세션 저장소 생성 및 Session ID 발급
3. 응답 헤더에 set-cookie 옵션을 통해 session ID 를 사용자 측 쿠키 저장소에 저장
4. 클라이언트 측에서 session ID 를 요청 헤더에 담아 보냄
5. Session ID 에 해당하는 세션 저장소에서 회원 정보 가져와서 인증
6. 요청한 데이터 반환

---

</details>

<details>
<summary>
📌 www.google.com 을 주소창에 쳤을 때 화면이 나오기까지의 과정
</summary>

---

1. 사용자가 URL 에 도메인을 입력한다.
2. 로컬에 `host file` 에 DNS 캐시가 없으면 DNS 로 부터 전달받은 도메인에 해당하는 IP 를 전달 받는다.
3. 3-way handshaking 을 통해 요청 서버와 세션을 연결한다.
4. request 송신 후 response 수신

---

</details>